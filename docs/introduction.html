<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Introduction | A gRadual intRoduction to Shiny</title>
  <meta name="description" content="A gradual and gentle introduction to interactive programming concepts in Shiny." />
  <meta name="generator" content="bookdown 0.10.2 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Introduction | A gRadual intRoduction to Shiny" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://laderast.github.io/gradual_shiny/" />
  
  <meta property="og:description" content="A gradual and gentle introduction to interactive programming concepts in Shiny." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Introduction | A gRadual intRoduction to Shiny" />
  
  <meta name="twitter:description" content="A gradual and gentle introduction to interactive programming concepts in Shiny." />
  

<meta name="author" content="Ted Laderas and Jessica Minnier" />


<meta name="date" content="2019-06-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html">
<link rel="next" href="app-1-connecting-ui-and-server.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#workshop-expectations"><i class="fa fa-check"></i><b>1.1</b> Workshop Expectations</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#learning-objectives"><i class="fa fa-check"></i><b>1.2</b> Learning Objectives</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#setup-on-rstudio-cloud"><i class="fa fa-check"></i><b>2.1</b> Setup (On RStudio Cloud)</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#setup-on-your-computer"><i class="fa fa-check"></i><b>2.2</b> Setup (On your Computer)</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#introducing-shiny"><i class="fa fa-check"></i><b>2.3</b> Introducing Shiny</a></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#functions-in-r"><i class="fa fa-check"></i><b>2.4</b> Functions in R</a><ul>
<li class="chapter" data-level="2.4.1" data-path="introduction.html"><a href="introduction.html#writing-our-own-functions"><i class="fa fa-check"></i><b>2.4.1</b> Writing our own functions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introduction.html"><a href="introduction.html#the-concept-of-ui-and-server-elements"><i class="fa fa-check"></i><b>2.5</b> The concept of <code>ui</code> and <code>server</code> elements</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html"><i class="fa fa-check"></i><b>3</b> App 1: Connecting <code>ui</code> and <code>server</code></a><ul>
<li class="chapter" data-level="3.1" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#making-a-ggplot-interactive"><i class="fa fa-check"></i><b>3.1</b> Making a ggplot interactive</a></li>
<li class="chapter" data-level="3.2" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#exercise"><i class="fa fa-check"></i><b>3.2</b> Exercise</a></li>
<li class="chapter" data-level="3.3" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#more-about-inputs-and-outputs"><i class="fa fa-check"></i><b>3.3</b> More about Inputs and Outputs</a><ul>
<li class="chapter" data-level="3.3.1" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#interactive-control-tools-from-ui-to-server"><i class="fa fa-check"></i><b>3.3.1</b> Interactive control tools (from UI to server)</a></li>
<li class="chapter" data-level="3.3.2" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#display-output-from-server-to-ui"><i class="fa fa-check"></i><b>3.3.2</b> Display output (from server to UI)</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#what-youve-learned-so-far"><i class="fa fa-check"></i><b>3.4</b> What you’ve learned so far</a></li>
<li class="chapter" data-level="3.5" data-path="app-1-connecting-ui-and-server.html"><a href="app-1-connecting-ui-and-server.html#for-more-info"><i class="fa fa-check"></i><b>3.5</b> For More Info</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="app-2-reactives.html"><a href="app-2-reactives.html"><i class="fa fa-check"></i><b>4</b> App 2: Reactives</a><ul>
<li class="chapter" data-level="4.1" data-path="app-2-reactives.html"><a href="app-2-reactives.html#exercise-1"><i class="fa fa-check"></i><b>4.1</b> Exercise</a></li>
<li class="chapter" data-level="4.2" data-path="app-2-reactives.html"><a href="app-2-reactives.html#for-more-info-1"><i class="fa fa-check"></i><b>4.2</b> For More Info</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="app-3-adding-tooltips-with-plotly.html"><a href="app-3-adding-tooltips-with-plotly.html"><i class="fa fa-check"></i><b>5</b> App 3: Adding tooltips with <code>plotly</code></a><ul>
<li class="chapter" data-level="5.1" data-path="app-3-adding-tooltips-with-plotly.html"><a href="app-3-adding-tooltips-with-plotly.html#exercise-2"><i class="fa fa-check"></i><b>5.1</b> Exercise</a></li>
<li class="chapter" data-level="5.2" data-path="app-3-adding-tooltips-with-plotly.html"><a href="app-3-adding-tooltips-with-plotly.html#for-more-info-2"><i class="fa fa-check"></i><b>5.2</b> For More Info</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="app-4-adding-in-a-file-loader-observe-and-update-.html"><a href="app-4-adding-in-a-file-loader-observe-and-update-.html"><i class="fa fa-check"></i><b>6</b> App 4: Adding in a file loader: <code>observe</code> and <code>update</code>.</a><ul>
<li class="chapter" data-level="6.1" data-path="app-4-adding-in-a-file-loader-observe-and-update-.html"><a href="app-4-adding-in-a-file-loader-observe-and-update-.html#exercise-3"><i class="fa fa-check"></i><b>6.1</b> Exercise</a></li>
<li class="chapter" data-level="6.2" data-path="app-4-adding-in-a-file-loader-observe-and-update-.html"><a href="app-4-adding-in-a-file-loader-observe-and-update-.html#more-examples"><i class="fa fa-check"></i><b>6.2</b> More examples</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="the-finished-app.html"><a href="the-finished-app.html"><i class="fa fa-check"></i><b>7</b> The Finished App</a><ul>
<li class="chapter" data-level="7.1" data-path="the-finished-app.html"><a href="the-finished-app.html#extensions"><i class="fa fa-check"></i><b>7.1</b> Extensions</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="testing-and-debugging-apps.html"><a href="testing-and-debugging-apps.html"><i class="fa fa-check"></i><b>8</b> Testing and debugging apps</a><ul>
<li class="chapter" data-level="8.1" data-path="testing-and-debugging-apps.html"><a href="testing-and-debugging-apps.html#debugging-your-app"><i class="fa fa-check"></i><b>8.1</b> Debugging your app</a></li>
<li class="chapter" data-level="8.2" data-path="testing-and-debugging-apps.html"><a href="testing-and-debugging-apps.html#issues-youll-encounter-with-interactive-programming"><i class="fa fa-check"></i><b>8.2</b> Issues you’ll encounter with interactive programming</a></li>
<li class="chapter" data-level="8.3" data-path="testing-and-debugging-apps.html"><a href="testing-and-debugging-apps.html#using-print-statements-to-debug-your-shiny-app"><i class="fa fa-check"></i><b>8.3</b> Using <code>print</code> statements to debug your Shiny app</a></li>
<li class="chapter" data-level="8.4" data-path="testing-and-debugging-apps.html"><a href="testing-and-debugging-apps.html#using-breakpoints-to-debug"><i class="fa fa-check"></i><b>8.4</b> Using breakpoints to debug</a></li>
<li class="chapter" data-level="8.5" data-path="testing-and-debugging-apps.html"><a href="testing-and-debugging-apps.html#testing-the-ui-shinytest-and-rselenium"><i class="fa fa-check"></i><b>8.5</b> Testing the UI: <code>shinytest</code> and <code>RSelenium</code></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="where-next.html"><a href="where-next.html"><i class="fa fa-check"></i><b>9</b> Where Next?</a><ul>
<li class="chapter" data-level="9.1" data-path="where-next.html"><a href="where-next.html#programming-resources"><i class="fa fa-check"></i><b>9.1</b> Programming Resources</a></li>
<li class="chapter" data-level="9.2" data-path="where-next.html"><a href="where-next.html#cool-shiny-enhancements"><i class="fa fa-check"></i><b>9.2</b> Cool Shiny Enhancements</a></li>
<li class="chapter" data-level="9.3" data-path="where-next.html"><a href="where-next.html#deploying-your-app"><i class="fa fa-check"></i><b>9.3</b> Deploying your app</a></li>
<li class="chapter" data-level="9.4" data-path="where-next.html"><a href="where-next.html#i-want-more"><i class="fa fa-check"></i><b>9.4</b> I want more!</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A gRadual intRoduction to Shiny</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction" class="section level1">
<h1><span class="header-section-number">2</span> Introduction</h1>
<div id="setup-on-rstudio-cloud" class="section level2">
<h2><span class="header-section-number">2.1</span> Setup (On RStudio Cloud)</h2>
<p>If you’re running this workshop on RStudio Cloud, you will need to register for an RStudio Cloud account and then join the invite. This will be provided in the workshop.</p>
<p>You will not need to download anything on the cloud instance.</p>
</div>
<div id="setup-on-your-computer" class="section level2">
<h2><span class="header-section-number">2.2</span> Setup (On your Computer)</h2>
<ol style="list-style-type: decimal">
<li>Make sure that you have the following packages installed:</li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">&quot;shiny&quot;</span>, <span class="st">&quot;tidyverse&quot;</span>, <span class="st">&quot;fivethirtyeight&quot;</span>, <span class="st">&quot;plotly&quot;</span>))</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><p>Clone or download the tutorial from here (click the <code>Clone or Download</code> button, it’s green and on the right side): <a href="https://github.com/laderast/gradual_shiny" class="uri">https://github.com/laderast/gradual_shiny</a></p></li>
<li><p>Unzip, and open the <code>gradual_shiny.Rproj</code> file in this folder. The project should open in RStudio and you should be ready!</p></li>
</ol>
</div>
<div id="introducing-shiny" class="section level2">
<h2><span class="header-section-number">2.3</span> Introducing Shiny</h2>
<p>Welcome to Shiny! Shiny is a framework in R for making interactive visualizations for the web created by Joe Cheng. Nearly any plot in R can be made into an interactive visualization by adding some simple interface elements and mapping these interface elements into the plot. It’s an extremely powerful technique for visualization and communication of findings.</p>
<p>Before we get started, we need to talk a little bit about the architecture of <code>shiny</code> apps. <code>shiny</code> apps are <em>server-based</em>, which means that all of the calculations and plot rendering happen on a server (when you’re running them in RStudio, your server is your computer). Compare this to JavaScript visualization frameworks such as <code>D3.js</code>, where the client’s computer needs to do all of the computing of the visualization.</p>
<p>There are a lot of benefits to server-based frameworks, namely that your users don’t need to have a heavy-duty computer to visit your site, and that your data is sitting behind a protected server. One of the difficulties is that it can be difficult to scale for lots of users.</p>
</div>
<div id="functions-in-r" class="section level2">
<h2><span class="header-section-number">2.4</span> Functions in R</h2>
<p>In order to use Shiny we need to have an understanding of R code syntax and how to use functions in R.</p>
<p>Functions take an argument (input) and produce a result (output). A simple function is <code>mean()</code>. The input argument is a numeric vector such as <code>c(1,5,3.2,0.001)</code> and the output is a numeric value that is the mean of the vector.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="fl">3.2</span>,<span class="fl">0.001</span>))</code></pre>
<p>Note we could also not specify the name of the argument since R uses the inputs as arguments in the order it sees them.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">5</span>,<span class="fl">3.2</span>,<span class="fl">0.001</span>))</code></pre>
<p>To see what arguments the function <code>mean()</code> requires, try looking it up in help:</p>
<pre class="sourceCode r"><code class="sourceCode r">?mean</code></pre>
<p>We can see that <code>mean()</code> takes optional arguments <code>trim</code> and <code>na.rm</code>. Compare the output from these two uses of <code>mean()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="ot">NA</span>))
<span class="kw">mean</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="ot">NA</span>), <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</code></pre>
<p>The <code>NA</code> value signifies missing data in R. The addition of other arguments changes how the function is used.</p>
<div id="writing-our-own-functions" class="section level3">
<h3><span class="header-section-number">2.4.1</span> Writing our own functions</h3>
<p>In Shiny, we will use functions such as <code>fluidPage()</code> and <code>shinyApp()</code>.</p>
<p>We will also create our own function <code>server()</code>. To define functions, the syntax is:</p>
<pre class="sourceCode r"><code class="sourceCode r">name_of_function &lt;-<span class="st"> </span><span class="cf">function</span>(input) {
  <span class="co"># code</span>
}</code></pre>
<p>For example:</p>
<pre class="sourceCode r"><code class="sourceCode r">myfunction &lt;-<span class="st"> </span><span class="cf">function</span>(a, b, <span class="dt">div =</span> <span class="dv">2</span>) {
  (a <span class="op">+</span><span class="st"> </span>b)<span class="op">/</span>div
}</code></pre>
<p>Here, we must specify the inputs <code>a</code> and <code>b</code> and optionally <code>div</code>. Now we can use our function:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">myfunction</span>(<span class="dt">a =</span> <span class="dv">3</span>, <span class="dt">b =</span> <span class="dv">4</span>)
<span class="kw">myfunction</span>(<span class="dt">a =</span> <span class="dv">3</span>, <span class="dt">b =</span> <span class="dv">4</span>, <span class="dt">div =</span> <span class="dv">1</span>)</code></pre>
<p>If we just type</p>
<pre class="sourceCode r"><code class="sourceCode r">myfunction</code></pre>
<p>R prints the definition of our function.</p>
<p>For more information on functions, see <a href="http://adv-r.had.co.nz/Functions.html">Advanced R</a> book’s chapter on functions.</p>
</div>
</div>
<div id="the-concept-of-ui-and-server-elements" class="section level2">
<h2><span class="header-section-number">2.5</span> The concept of <code>ui</code> and <code>server</code> elements</h2>
<p>Every shiny app has two elements. The first is <code>ui</code>, which handles both the user controls and the layout and placement of output elements, such as plots or tables. <code>ui</code> usually consists of a layout scheme, with user controls (such as sliders, select boxes, radio boxes, etc) specified here. The second element is <code>server</code>, which handles all of the calculations and the generation of plots for <code>ui</code>.</p>
<p><code>ui</code> and <code>server</code> are only connected by two objects <code>input</code>, and <code>output</code> (they actually are environments, but we’ll just say they are objects). <code>ui</code> puts the values from the controls into <code>input</code>, which can be accessed by <code>server</code>. For example, if we have a slider called <code>year_release</code> in <code>ui</code>, we can access the value of that slider in <code>server</code> through <code>input$year_release</code>.</p>
<p><code>server</code> will then do something with the slider value and generate some output. Where does it put the output? If you guessed <code>output</code>, then give yourself a star! <code>ui</code> then takes <code>output</code> and will then display it using the various _Output functions (such as <code>plotOutput</code>, <code>textOutput</code> and<code>tableOutput</code>).</p>
<p>If this is confusing, go very carefully through the diagram below. I’m happy to answer any questions you have about it.</p>
<div class="figure">
<img src="img/shiny-architecture.png" alt="Basic shiny architecture" />
<p class="caption"><em>Basic shiny architecture</em></p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="app-1-connecting-ui-and-server.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
